区块的书写形式

对于函数、条件结构、循环结构和 try-catch 结构，我建议采用下面这样的两种形式：

if (x = 1)
{
    MsgBox, test1
    Sleep, 5
}
else
    MsgBox, test2

具体地说，目标语句只有单语句时，那么把它放在条件语句或循环语句的下一行；如果目标语句有多行，则把目标语句放在区块中，同时左大括号和右大括号单独一行（这实际上是指所有区块的风格，包含函数等其他地方）。同时对于循环结构，如果有附加 Until 语句，建议把它放到循环结构中右大括号的下一行（即循环结构的最后一行，因为它也是循环结构的一部分），其中的表达式建议放在小括号中。对于 While 循环结构，建议其中的条件表达式放在小括号中。

下面所说的各种形式，我个人不建议使用。

某些情况下支持 K&R 风格（或称为 One True Brace 风格），例如：

Loop 5 {
    MsgBox, % "这是第" A_Index "次循环。"
}

这种风格是指把左大括号放在条件语句或循环语句的右边，其他的与建议风格相同。这种风格与某些写法不能同时使用，细节请参阅帮助。

某些条件命令支持目前语句和自己在同一行，这种写法有诸多限制同时也增加理解上的难度，例如：

IfEqual, y, 1, Gosub, b1
else Gosub, a4

此时目标语句必须是命名命令，如果是赋值语句则不能这样写。已知 IfEqual/IfNotEqual/IfLess/IfLessOrEqual/IfGreater/IfGreaterOrEqual/IfInString/IfNotInString 支持这种这种写法。

在一些情况下，还可以在大括号右边放上命令或其他操作，例如：

if (x = 1)
{ MsgBox, 这行在左大括号的右边，只有在 If 语句为真时才会被执行。
    MsgBox, 这是第二行。
} MsgBox, 这行在右大括号的右边，无论前面的 If 语句结果如何都会执行。

这种写法与前面的同行写法我几乎都没用过，同时我也没有在其他脚本或语言中遇见过。
参数的形式

某些命令的一些参数支持一般形式和强制表达式（应该把它们都视为传统形式），可能最常见的是 MsgBox 命令。例如：

MsgBox, 一个字符串。

MsgBox, % "var 变量的内容为：" var

对于这个命令，我想容易区分。我个人习惯是要显示的字符串含有变量时则用强制表达式，只显示原义字符串时则用一般传统形式。

容易混淆的是不是所有命令的所有参数都支持强制表达式，要看某个参数是否支持，有时帮助中可能提到，有时需要自己尝试，不过这样的情况少见。某些命令的特定参数已注明接受表达式, 此时前导的百分号可以省略.例如：

Sleep, MillisecondsToWait

Sleep, % MillisecondsToWait

这两种写法效果相同。对于函数而言，所有参数都是表达式。
伪数组与数组

目前仍有一些命令支持伪数组，例如 StringSplit、RegexMatch、WinGet。另外通过一些命令或赋值，也可以很容易建立伪数组。相对而言，数组的功能强大，用法也稍复杂一些。

关于它们的比较，请参阅后面的部分。以后如何变化还不清楚，对于如何选择，能解决问题就行了。
文件处理

与之前介绍的许多方面类似，目前有两套并行体系：一套是命令，简单直接；一套是对象，方便强大。
子程序与函数

共用代码时选择用子程序还是函数呢？
命令与函数

AutoHotkey 目前存在许多具有同等或类似功能的命令与函数或命令与运算符。例如：

GetKeyState, state, LShift
if (state = "D")
    MsgBox, LShift 键是按住的。
else
    MsgBox, LShift 键是松开的。

现在使用 GetKeyState() 函数实现同样的操作：

if GetKeyState("LShift")
    MsgBox, LShift 键是按住的。
else
    MsgBox, LShift 键是松开的。

先把函数的结果赋值给一个变量，接着进行判断，则和上面使用命令差不多了。所以，比较起来使用函数及函数嵌套在许多时候可以节省中间变量，编写代码会快一些。

在有些时候函数的功能比类似功能的命令在功能上强一些（即当功能有强弱之分时通常命令较弱，而函数、对象较强），例如 FileExist() 的功能相当于 IfExist 和 FileGetAttrib 的功能了。另外，需要注意到有些功能只有命令实现，没有类似功能的函数，这些命令多为基础命令。也存在一些只有函数而没有对应命令的情况，这些函数多为高级函数，例如 NumPut()、DllCall() 等。

我个人感觉命令可能容易接受一些，所以对于初学者，可以从命令开始学习。如果您使用函数、对象没有问题，则可优先考虑它们。它们之间的差异是相对的，关于命令式与函数式的比较，请参阅：[对于脚本语言，命令式语法和函数式语法各有哪些优缺点？](http://www.zhihu.com/question/22758714)

=====================================================

AutoHotkey 是从 AutoIt v2 发展而来，并且由 AutoHotkey 经典版到目前的 AutoHotkey_L。由于兼容、开发理念等原因，形成了目前一些语法、句式和风格等同时存在多种形式的情况，其中某些不建议使用、某些不赞成使用， 有些则需要理解它们的异同。由于这样的情况不少，所以这里集中到一起。需要说明，这里只是作为建议，同时说明建议的原因，如果您理解它们且有非常适合它们 的情况，进一步的还能避免带来的副作用，那么使用也不要紧。

除了上面说到的这些，其他的选择主要是个人喜好，一般不会引起混乱。例如三元运算符与 If-else 结构，“~=”运算符与 RegExMatch() 函数。

关于传统型与表达式型，这里归纳一下，主要是我个人的看法，供大家在理解时参考。首先理解什么是表达式，它是由运算符和操作数进行运算的 式子，操作数包括数字、字符串及函数调用的返回值，这里最主要的一点是能进行运算，此外与变量是否括在百分号中没有直接关联。显然传统赋值无法进行运算， 所以不是表达式，里面的等号也不是运算符（单独的等号在表达式中是比较运算符）。从这个表达式的含义可以发现，所有的命令都是传统型，所有的函数都是表达 式型，这里的所有命令应去除 If (表达式) 这种情况。对于 Until (表达式) 和 While (表达式) 一般也认为是表达式型。不过，Until 表达式 和 While 表达式 则是传统型。更混乱了吗？看看 Sleep 和 Return 命令。我想您现在应该理解了，对于传统型，其中的参数是否直接支持表达式，是否可以使用强制表达式，为变量时是否可以不用括在百分号中，或者原义字符串， 都要看每个命令的具体要求，对于每个命令的不同参数都可能有区别，没有一致的规定。

从形式上看，一般表达式与其他部分都会以小括号隔开，例如函数中的参数用小括号括起，If、else if、While、Until 等后面的表达式也要用小括号括起，这种情况下那些才是表达式，而不是支持表达式的传统型参数。

现在不知您是否清楚了变量什么时候应该括在百 分号中，什么时候不用。对于表达式型，变量都不用括在百分号中，对于传统型，看具体命令及具体的参数，查阅帮助。这种说法虽不太完善，不过基本能让您判断 什么时候该加百分号什么时候不用了。例外的情况如在引用伪数组中的元素时，索引必须括在百分号中，不过这里的索引更多应理解为类似于数组中的方括号，而不 是一般的变量。还有，在表达式中以某个变量的值作为另一个变量的名称，而我要使用后面这个变量的值时是必须加百分号的，这是双重引用了。
